(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],g=0,p=[];g<s.length;g++)o=s[g],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),i=n.n(a);i.a},1:function(e,t){},2:function(e,t){},3:function(e,t){},"3b2b":function(e,t,n){},4:function(e,t){},4967:function(e,t,n){"use strict";var a=n("6941"),i=n.n(a);i.a},"4ee2":function(e,t,n){},5:function(e,t){},"557e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("GlobalHeader"),n("PreviewBar"),n("main",{staticClass:"main"},[n("router-view",{key:e.$route.fullPath})],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!0===e.$agility.client.config.isPreview?n("div",[n("div",{attrs:{id:"agility-preview-bar",title:"You are currently in Preview Mode."}},[e._v("\n    Preview Mode\n    "),n("span",{attrs:{id:"agility-clear-preview",title:"Clear preview mode",click:e.clearPreviewMode}},[e._v("X")])])]):e._e()},s=[],c={methods:{clearPreviewMode:function(){window.location.href="?AgilityPreview=0"}}},l=c,u=(n("a14a"),n("2877")),g=Object(u["a"])(l,o,s,!1,null,"3145708a",null),p=g.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"header"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[e.siteLogo?n("div",[n("img",{attrs:{src:e.siteLogo.url,alt:e.siteName}}),e.siteTagline?n("span",{staticClass:"tagline"},[e._v(e._s(e.siteTagline))]):e._e()]):n("div",[e._v(e._s(e.siteName))]),n("ul",{attrs:{if:null!=e.sitemap}},e._l(e.sitemap,function(t){return t.visible.menu?n("li",{key:t.pageID},[n("router-link",{attrs:{to:t.path}},[e._v(e._s(t.menuText))])],1):e._e()}),0)])])])},d=[],f=(n("96cf"),n("3b8d")),h={data:function(){return{siteName:null,siteLogo:null,siteTagline:null,sitemap:null}},mounted:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,n,a,i,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=this.$agility.client,e.prev=2,e.next=5,n.getContentList({referenceName:"globalheader",languageCode:t.$agility.config.languageCode});case 5:a=e.sent,a&&a.items&&(i=a.items[0],t.siteName=i.fields.siteName,t.siteLogo=i.fields.siteLogo,t.siteTagline=i.fields.siteTagline),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console&&console.error("Could not load global header item.",e.t0);case 12:return e.prev=12,e.next=15,n.getSitemapNested({channelName:t.$agility.config.channelName,languageCode:t.$agility.config.languageCode});case 15:r=e.sent,t.sitemap=r,e.next=22;break;case 19:e.prev=19,e.t1=e["catch"](12),console&&console.error("Could not load nested sitemap.",e.t1);case 22:case"end":return e.stop()}},e,this,[[2,9],[12,19]])}));function t(){return e.apply(this,arguments)}return t}()},v=h,b=(n("a53e"),Object(u["a"])(v,m,d,!1,null,"0af47e1e",null)),y=b.exports,w={components:{GlobalHeader:y,PreviewBar:p},data:function(){return{}}},P=w,I=(n("034f"),Object(u["a"])(P,i,r,!1,null,null,null)),C=I.exports,O=n("8c4f"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!1===e.loading?n("div",[n(e.componentToRender,{tag:"component",attrs:{page:e.page,pageInSitemap:e.pageInSitemap,dynamicPageItem:e.dynamicPageItem}})],1):e._e()},j=[],x=(n("a481"),n("ac6a"),n("456d"),{props:{agility:Object},data:function(){return{pageTemplateComponent:null,sitemap:null,page:null,pageInSitemap:null,dynamicPageItem:null,loading:!0,isError:!1,isPageNotFound:!1,errorMessage:null,path:null}},computed:{componentToRender:function(){return this.pageTemplateComponent}},mounted:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.path=this.$route.path,e.next=3,this.routePage();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{setState:function(e){Object.assign(this,e)},getSitemap:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.sitemap){e.next=4;break}return e.abrupt("return",Promise.resolve(this.sitemap));case 4:return e.next=6,t.getSitemapFlat({channelName:this.$agility.config.channelName,languageCode:this.$agility.config.languageCode});case 6:return this.sitemap=e.sent,e.abrupt("return",Promise.resolve(this.sitemap));case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),routePage:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,n,a,i,r,o,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=t.$agility.client,e.prev=2,e.next=5,this.getSitemap(n);case 5:if(a=e.sent,i=this.path,r=a[i],"/"===i&&(o=Object.keys(a)[0],r=a[o]),!r){e.next=22;break}return e.next=12,n.getPage({pageID:r.pageID,languageCode:t.$agility.config.languageCode});case 12:if(s=e.sent,null==s){e.next=20;break}if(c=null,!(r.contentID>0)){e.next=19;break}return e.next=18,n.getContentItem({contentID:r.contentID,languageCode:this.$agility.config.languageCode});case 18:c=e.sent;case 19:this.setPage(s,r,c);case 20:e.next=23;break;case 22:this.pageNotFound();case 23:e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](2),this.handleError("error getting sitemap or page :(",e.t0);case 28:case"end":return e.stop()}},e,this,[[2,25]])}));function t(){return e.apply(this,arguments)}return t}(),setPage:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t,n,a){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.setState({page:t,pageInSitemap:n,dynamicPageItem:a,loading:!1,isError:!1,isPageNotFound:!1,errorMessage:null}),null!=this.page&&(i=this.page.templateName.replace(/[^0-9a-zA-Z]/g,""),this.pageTemplateComponent=this.$agility.config.pageTemplateComponents[i]);case 2:case"end":return e.stop()}},e,this)}));function t(t,n,a){return e.apply(this,arguments)}return t}(),handleError:function(e,t){console.error(e,t),this.setState({page:null,pageInSitemap:null,loading:!1,isError:!0,isPageNotFound:!1,errorMessage:e}),this.props.onPageRoutingError&&"function"===typeof this.props.onPageRoutingError&&this.props.onPageRoutingError(e,t)},pageNotFound:function(){this.setState({page:null,pageInSitemap:null,loading:!1,isError:!1,isPageNotFound:!0,errorMessage:"page NOT found in sitemap :("})}}}),S=x,k=Object(u["a"])(S,_,j,!1,null,null,null),N=k.exports;a["a"].use(O["a"]);var $=new O["a"]({mode:"history",base:"/",routes:[{path:"*",component:N}]}),T=n("2f62");a["a"].use(T["a"]);var E=new T["a"].Store({state:{},mutations:{},actions:{}}),D=(n("386d"),n("d225")),M=n("b0b4"),R=n("72bf"),A=n.n(R),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{domProps:{innerHTML:e._s(e.item.fields.textblob)}})])},F=[],H=(n("c5f6"),{props:{contentID:Number,item:Object,page:Object,pageInSitemap:Object,dynamicPageItem:Object}}),J=H,K=Object(u["a"])(J,L,F,!1,null,null,null),z=K.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"posts-listing"},[n("div",{staticClass:"container"},[n("h1",[e._v(e._s(e.item.fields.title))]),e._l(e.posts,function(t){return[n("div",{key:t.contentID,staticClass:"post flex-items"},[null!=t.image?n("img",{attrs:{src:t.image.url,alt:t.image.label}}):e._e(),n("div",{staticClass:"post-content"},[n("h3",[n("router-link",{attrs:{to:t.to}},[e._v(e._s(t.title))])],1),n("p",{domProps:{innerHTML:e._s(t.excerpt)}})])])]})],2)])},B=[],G=n("59f0"),U={props:{contentID:Number,item:Object,page:Object},data:function(){return{posts:[]}},mounted:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,n,a,i,r,o,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,n=t.$agility.client,e.prev=2,e.next=5,n.getSitemapFlat({channelName:t.$agility.config.channelName,languageCode:t.$agility.config.languageCode});case 5:return a=e.sent,e.next=8,n.getContentList({referenceName:"posts",languageCode:t.$agility.config.languageCode});case 8:i=e.sent,r=t.resolvePostUrls(a,i.items),o=[],i.items.forEach(function(e){var t=null;e.fields.image&&(t={url:e.fields.image.url+"?w=860",label:e.fields.image.label}),o.push({contentID:e.contentID,to:r[e.contentID],title:e.fields.title,excerpt:Object(G["a"])(e.fields.details,{stripTags:!0,length:160}),image:t}),s.posts=o}),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](2),console&&console.error(e.t0);case 17:case"end":return e.stop()}},e,this,[[2,14]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{resolvePostUrls:function(e,t){var n={};return t.forEach(function(t){Object.keys(e).forEach(function(a){e[a].contentID===t.contentID&&(n[t.contentID]=a)})}),n}}},X=U,Y=(n("c1b7"),Object(u["a"])(X,Z,B,!1,null,"958505ae",null)),q=Y.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"post-details"},[n("div",{staticClass:"container"},[n("div",{staticClass:"post"},[n("h1",[e._v(e._s(e.dynamicPageItem.fields.title))]),e.dynamicPageItem.fields.image?n("img",{attrs:{src:e.dynamicPageItem.fields.image.url+"?w=860",alt:e.dynamicPageItem.fields.image.label}}):e._e(),n("div",{staticClass:"post-content",domProps:{innerHTML:e._s(e.dynamicPageItem.fields.details)}})])])])},V=[],W={props:{contentID:Number,item:Object,page:Object,pageInSitemap:Object,dynamicPageItem:Object},mounted:function(){}},ee=W,te=(n("9e03"),Object(u["a"])(ee,Q,V,!1,null,"31e5e659",null)),ne=te.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"jumbotron"},[n("h1",[e._v(e._s(e.item.fields.title))]),n("h2",[e._v(e._s(e.item.fields.subTitle))])])},ie=[],re={props:{contentID:Number,item:Object,page:Object,pageInSitemap:Object,dynamicPageItem:Object}},oe=re,se=(n("4967"),Object(u["a"])(oe,ae,ie,!1,null,"c67e3ef0",null)),ce=se.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"one-column-template"},[n("ContentZone",{attrs:{name:"MainContentZone",page:e.page,pageInSitemap:e.pageInSitemap,dynamicPageItem:e.dynamicPageItem}})],1)},ue=[],ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.modules,function(t){return[n(t.component,{key:t.contentID,tag:"component",attrs:{contentID:t.contentID,item:t.item,page:e.page,pageInSitemap:e.pageInSitemap,dynamicPageItem:e.dynamicPageItem}})]})],2)},pe=[],me=(n("7f7f"),{mounted:function(){this.renderModules()},props:{name:String,page:Object,pageInSitemap:Object,dynamicPageItem:Object},data:function(){return{modules:[]}},methods:{renderModules:function(){var e=this,t=[],n=this.name,a=this.page.zones[n];void 0!==a?(a.forEach(function(n){var a=e.$agility.config.moduleComponents[n.module];a?t.push({component:a,contentID:n.item.contentID,item:n.item}):console.error('No component found for the module "'.concat(n.module,'". Cannot render module.'))}),this.modules=t):console.error('Cannot render modules for zone "'.concat(n,'". This does not appear to be a valid content zone for this page template.'))}}}),de=me,fe=Object(u["a"])(de,ge,pe,!1,null,null,null),he=fe.exports,ve={props:{page:Object,pageInSitemap:Object,dynamicPageItem:Object},components:{ContentZone:he}},be=ve,ye=Object(u["a"])(be,le,ue,!1,null,null,null),we=ye.exports,Pe={guid:"e28e3b0b",fetchAPIKey:"defaultlive.2624fb4848ee6afe0b11450addf37e7773712e2a395cf1ba63face999525529a",previewAPIKey:"defaultpreview.d225843e256629560e2a0d0e374f51097bcab0f31ce49fd763ebb5a3cf2f115d",languageCode:"en-us",channelName:"website",isPreview:!1,caching:{maxAge:0},moduleComponents:{RichTextArea:z,PostsListing:q,Jumbotron:ce,PostDetails:ne},pageTemplateComponents:{OneColumnTemplate:we}},Ie=n("2cef"),Ce=n.n(Ie),Oe=function(){function e(){Object(D["a"])(this,e),this.config=Pe,this.client=this.createClient()}return Object(M["a"])(e,[{key:"createClient",value:function(){this.checkPreviewModeAndLanguageCode();var e=Pe.fetchAPIKey;return Pe.isPreview&&(e=Pe.previewAPIKey),Ce.a.getApi({guid:Pe.guid,apiKey:e,caching:Pe.caching,isPreview:Pe.isPreview})}},{key:"checkPreviewModeAndLanguageCode",value:function(){if(document){var e=A.a.parse(document.location.search),t="agility-config",n=!1,a={languageCode:Pe.languageCode,isPreview:Pe.isPreview};if(window&&window.sessionStorage){var i=window.sessionStorage.getItem(t);if(i&&i.length>4)try{var r=JSON.parse(i);r&&r.languageCode&&(a=r)}catch(o){console&&console.warn("Error parsing json from session storage",i)}}e.lang&&e.lang.length>0&&a.languageCode!==e.lang&&(console&&console.log("[Agility] Setting language code to",e.lang),a.languageCode=e.lang,n=!0),e.AgilityPreview&&"0"===e.AgilityPreview?!1!==a.isPreview&&(console&&console.log("[Agility] Setting preview mode to false"),a.isPreview=!1,n=!0):e.agilitypreviewkey&&!0!==a.isPreview&&(console&&console.log("[Agility] Setting preview mode to true"),a.isPreview=!0,n=!0),Pe.languageCode=a.languageCode,Pe.isPreview=a.isPreview,n&&window&&window.sessionStorage&&window.sessionStorage.setItem(t,JSON.stringify(a))}}}]),e}(),_e=Oe;n("4ee2"),n("df95");a["a"].config.productionTip=!1,a["a"].prototype.$agility=new _e,new a["a"]({router:$,store:E,render:function(e){return e(C)}}).$mount("#app")},"64a9":function(e,t,n){},6941:function(e,t,n){},7899:function(e,t,n){},"85ae":function(e,t,n){},"9e03":function(e,t,n){"use strict";var a=n("7899"),i=n.n(a);i.a},a14a:function(e,t,n){"use strict";var a=n("557e"),i=n.n(a);i.a},a53e:function(e,t,n){"use strict";var a=n("3b2b"),i=n.n(a);i.a},c1b7:function(e,t,n){"use strict";var a=n("85ae"),i=n.n(a);i.a},df95:function(e,t,n){}});
//# sourceMappingURL=app.88920724.js.map